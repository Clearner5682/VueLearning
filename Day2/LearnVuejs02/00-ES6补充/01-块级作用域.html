<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<button>按钮1</button>
<button>按钮2</button>
<button>按钮3</button>
<button>按钮4</button>
<button>按钮5</button>

<script>
  // 在js中for和if没有块级作用域，只有函数有块级作用域
  
  const buttons=document.getElementsByTagName('button');
  // var在for循环中没有块级作用域
  // for(var i=0;i<buttons.length;i++){
  //   buttons[i].addEventListener('click',function(){
  //     console.log('按钮'+i+'被点击');
  //   });
  // }

  // let在for循环中有块级作用域
  // for(let i=0;i<buttons.length;i++){
  //   buttons[i].addEventListener('click',function(){
  //     console.log('按钮'+i+'被点击');
  //   });
  // }

  // 闭包解决作用域问题,因为函数是有块级作用域的
  // for(var i=0;i<buttons.length;i++){
  //   (function(index){
  //     buttons[index].addEventListener('click',function(){
  //       console.log('按钮'+index+'被点击');
  //     })
  //   })(i)
  // }

  // 闭包其实就是立即执行匿名函数，以下是立即执行非匿名函数的代码，与闭包的效果相同
  for(var i=0;i<buttons.length;i++){
    var func=function(index){
      buttons[index].addEventListener('click',function(){
        console.log('按钮'+index+'被点击');
      })
    };
    func(i);
  }
</script>
</body>
</html>